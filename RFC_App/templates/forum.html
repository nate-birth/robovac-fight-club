{% extends 'base.html' %}
{% load static %}

{% block title %} 
Forum
{% endblock %}

{% block content %}

<h1>Roomba User Forum</h1>


<div id="forms">
    <div class="form">
        <h2>Create a Post</h2>
        <form action="{% url 'add_post' %}" method="POST">
            {% csrf_token %}
            <textarea name="title" placeholder="Title your post?" cols="30" rows="2"></textarea>
            <br>
            <textarea name="body" placeholder="What's your post?" cols="30" rows="10"></textarea> <br>
            <input type="submit" name="Submit Post">
        </form>
    </div>
</div>

{% for post in user_posts %}

<a href="/goto_post/{{post.id}}"><h4>{{post.title}}</h4></a>
<p>{{post.author.first_name}} {{post.author.last_name}} - {{post.created_at}}</p>
<p>{{post.body}}</p>

{% endfor %}

{% for comment in post.post_comments.all %}
<h5>user: {{comment.user.first_name}} {{comment.user.last_name}}</h5>
<p>{{comment.comment}}</p>


<h2>add a comment</h2>
<form action="/add_comment/{{message.id}}" method="POST">
    {% csrf_token %}
    <textarea name="comment" placeholder="Write your comment here dummy!" cols="30" rows="7"></textarea> <br>
    <input type="submit" name="Post a comment">
</form>
{% endfor %}




<!-- { % for comment in post.post_comments.all % }
    <p>{{comment.comment}}</p>
    <p>poster: {{comment.poster.first_name}} {{comment.poster.last_name}}</p>
    <a href="/delete/{{comment.id}}">Delete</a>
{ % endfor % } -->

{% endblock %}